(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(75157);let s=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));s.displayName="Card";let i=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let n=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("h3",{ref:s,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("p",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,t.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},19455,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(91918),s=e.i(25913),i=e.i(75157);let n=(0,s.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-button hover:shadow-lg hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground shadow-button hover:shadow-lg hover:-translate-y-0.5 hover:bg-primary/90",heroOutline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",cta:"bg-primary text-primary-foreground shadow-button hover:shadow-lg hover:-translate-y-1 hover:bg-primary/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-6",xl:"h-14 rounded-xl px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef(({className:e,variant:r,size:s,asChild:l=!1,...o},d)=>{let c=l?t.Slot:"button";return(0,a.jsx)(c,{className:(0,i.cn)(n({variant:r,size:s,className:e})),ref:d,...o})});l.displayName="Button",e.s(["Button",()=>l,"buttonVariants",()=>n])},31278,e=>{"use strict";let a=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},93479,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(75157);let s=r.forwardRef(({className:e,type:r,...s},i)=>(0,a.jsx)("input",{type:r,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},10204,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(48425),s=r.forwardRef((e,r)=>(0,a.jsx)(t.Primitive.label,{...e,ref:r,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));s.displayName="Label";var i=e.i(25913),n=e.i(75157);let l=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)(s,{ref:t,className:(0,n.cn)(l(),e),...r}));o.displayName=s.displayName,e.s(["Label",()=>o],10204)},24687,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(75157);let s=r.forwardRef(({className:e,...r},s)=>(0,a.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));s.displayName="Textarea",e.s(["Textarea",()=>s])},55796,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(15288),s=e.i(19455),i=e.i(93479),n=e.i(10204),l=e.i(24687),o=e.i(31278),d=e.i(46696);function c(){let[e,c]=(0,r.useState)(!1),[p,u]=(0,r.useState)({phone:"0824644655",password:"Cleaner2024!",name:"",email:"",areas:"",bio:"",specialties:"",yearsExperience:""}),m=async e=>{e.preventDefault(),c(!0);try{let e={phone:p.phone,password:p.password,name:p.name};if(p.email&&(e.email=p.email),p.areas)try{e.areas=JSON.parse(p.areas)}catch{e.areas=p.areas.split(",").map(e=>e.trim()).filter(e=>e)}if(p.bio&&(e.bio=p.bio),p.specialties)try{e.specialties=JSON.parse(p.specialties)}catch{e.specialties=p.specialties.split(",").map(e=>e.trim()).filter(e=>e)}p.yearsExperience&&(e.yearsExperience=parseInt(p.yearsExperience));let a=await fetch("/api/admin/create-cleaner",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await a.json();if(!a.ok||!r.success)throw Error(r.error||"Failed to create cleaner");d.toast.success("Cleaner created successfully!"),console.log("Cleaner created:",r);let t=p.phone.replace(/\s+/g,"").trim(),s=t.startsWith("+")?t:t.startsWith("0")?`+27${t.substring(1)}`:`+27${t}`,i=s.replace(/\+/g,""),n=`${i}@cleaners.shalean.local`;alert(`Cleaner created successfully!

Login Credentials:
Phone: ${s.replace(/\+/g,"")}
Password: ${p.password}
Auth Email: ${n}

The cleaner can now log in at: /cleaner/login`),u({phone:"",password:"",name:"",email:"",areas:"",bio:"",specialties:"",yearsExperience:""})}catch(e){console.error("Error creating cleaner:",e),d.toast.error(e instanceof Error?e.message:"Failed to create cleaner")}finally{c(!1)}};return(0,a.jsx)("div",{className:"container mx-auto py-8 max-w-2xl",children:(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"Create Cleaner Account"}),(0,a.jsx)(t.CardDescription,{children:"Create a new cleaner account with authentication credentials"})]}),(0,a.jsx)(t.CardContent,{children:(0,a.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"phone",children:"Phone Number *"}),(0,a.jsx)(i.Input,{id:"phone",type:"tel",placeholder:"0824644655 or +27824644655",value:p.phone,onChange:e=>u({...p,phone:e.target.value}),required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"South African phone number (with or without +27)"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"password",children:"Password *"}),(0,a.jsx)(i.Input,{id:"password",type:"text",placeholder:"Secure password",value:p.password,onChange:e=>u({...p,password:e.target.value}),required:!0,minLength:6}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters. This will be the cleaner's login password."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"name",children:"Full Name *"}),(0,a.jsx)(i.Input,{id:"name",type:"text",placeholder:"John Doe",value:p.name,onChange:e=>u({...p,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"email",children:"Email (Optional)"}),(0,a.jsx)(i.Input,{id:"email",type:"email",placeholder:"john@example.com",value:p.email,onChange:e=>u({...p,email:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"areas",children:"Service Areas (Optional)"}),(0,a.jsx)(i.Input,{id:"areas",type:"text",placeholder:'Cape Town, Claremont or ["Cape Town", "Claremont"]',value:p.areas,onChange:e=>u({...p,areas:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list or JSON array"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"bio",children:"Bio (Optional)"}),(0,a.jsx)(l.Textarea,{id:"bio",placeholder:"Experienced cleaner with 5 years of experience...",value:p.bio,onChange:e=>u({...p,bio:e.target.value}),rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"specialties",children:"Specialties (Optional)"}),(0,a.jsx)(i.Input,{id:"specialties",type:"text",placeholder:'Deep cleaning, Move-in/out or ["Deep cleaning", "Move-in/out"]',value:p.specialties,onChange:e=>u({...p,specialties:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list or JSON array"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"yearsExperience",children:"Years of Experience (Optional)"}),(0,a.jsx)(i.Input,{id:"yearsExperience",type:"number",placeholder:"5",value:p.yearsExperience,onChange:e=>u({...p,yearsExperience:e.target.value}),min:"0"})]}),(0,a.jsx)(s.Button,{type:"submit",className:"w-full",disabled:e,children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Cleaner..."]}):"Create Cleaner"})]})})]})})}e.s(["default",()=>c])}]);