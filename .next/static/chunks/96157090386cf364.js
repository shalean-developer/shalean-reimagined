(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(75157);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let i=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let n=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("h3",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("p",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>c,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},87486,e=>{"use strict";var t=e.i(43476),r=e.i(25913),s=e.i(75157);let a=(0,r.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...i}){return(0,t.jsx)("div",{className:(0,s.cn)(a({variant:r}),e),...i})}e.s(["Badge",()=>i])},89464,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("007ae27d199cf53fb689e175ab48f42148ebb8360a",t.callServer,void 0,t.findSourceMapURL,"getAuthenticatedUser");e.s(["getAuthenticatedUser",()=>r])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},10204,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(48425),a=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var i=e.i(25913),n=e.i(75157);let l=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(a,{ref:s,className:(0,n.cn)(l(),e),...r}));c.displayName=a.displayName,e.s(["Label",()=>c],10204)},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={callServer:function(){return i.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(32120),n=e.r(92245),l=e.r(35326)},66027,e=>{"use strict";let t;var r=e.i(75555),s=e.i(40143),a=e.i(86491),i=e.i(15823),n=e.i(93803),l=e.i(19273),c=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,n.pendingThenable)(),this.options.experimental_prefetchInRender||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#a=void 0;#i=void 0;#n;#l;#r;#t;#c;#o;#u;#d;#h;#p;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),o(this.#s,this.options)?this.#m():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#y(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#s.setOptions(this.options),t._defaulted&&!(0,l.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&d(this.#s,r,this.options,t)&&this.#m(),this.updateResult(),s&&(this.#s!==r||(0,l.resolveEnabled)(this.options.enabled,this.#s)!==(0,l.resolveEnabled)(t.enabled,this.#s)||(0,l.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,l.resolveStaleTime)(t.staleTime,this.#s))&&this.#g();let a=this.#j();s&&(this.#s!==r||(0,l.resolveEnabled)(this.options.enabled,this.#s)!==(0,l.resolveEnabled)(t.enabled,this.#s)||a!==this.#p)&&this.#R(a)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(s,e);return t=this,r=a,(0,l.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#i=a,this.#l=this.options,this.#n=this.#s.state),a}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),Reflect.get(e,r))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#m(e){this.#b();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#g(){this.#v();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#s);if(l.isServer||this.#i.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#i.dataUpdatedAt,e);this.#d=setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#R(e){this.#y(),this.#p=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#s)&&(0,l.isValidTimeout)(this.#p)&&0!==this.#p&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#m()},this.#p))}#x(){this.#g(),this.#R(this.#j())}#v(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#y(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,s=this.#s,i=this.options,c=this.#i,u=this.#n,p=this.#l,f=e!==s?e.state:this.#a,{state:m}=e,x={...m},v=!1;if(t._optimisticResults){let r=this.hasListeners(),n=!r&&o(e,t),l=r&&d(e,s,t,i);(n||l)&&(x={...x,...(0,a.fetchState)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(x.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:g}=x;r=x.data;let j=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===g){let e;c?.isPlaceholderData&&t.placeholderData===p?.placeholderData?(e=c.data,j=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,void 0!==e&&(g="success",r=(0,l.replaceData)(c?.data,e,t),v=!0)}if(t.select&&void 0!==r&&!j)if(c&&r===u?.data&&t.select===this.#c)r=this.#o;else try{this.#c=t.select,r=t.select(r),r=(0,l.replaceData)(c?.data,r,t),this.#o=r,this.#t=null}catch(e){this.#t=e}this.#t&&(y=this.#t,r=this.#o,b=Date.now(),g="error");let R="fetching"===x.fetchStatus,C="pending"===g,S="error"===g,w=C&&R,N=void 0!==r,k={status:g,fetchStatus:x.fetchStatus,isPending:C,isSuccess:"success"===g,isError:S,isInitialLoading:w,isLoading:w,data:r,dataUpdatedAt:x.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>f.dataUpdateCount||x.errorUpdateCount>f.errorUpdateCount,isFetching:R,isRefetching:R&&!C,isLoadingError:S&&!N,isPaused:"paused"===x.fetchStatus,isPlaceholderData:v,isRefetchError:S&&N,isStale:h(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,l.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===k.status?e.reject(k.error):void 0!==k.data&&e.resolve(k.data)},r=()=>{t(this.#r=k.promise=(0,n.pendingThenable)())},a=this.#r;switch(a.status){case"pending":e.queryHash===s.queryHash&&t(a);break;case"fulfilled":("error"===k.status||k.data!==a.value)&&r();break;case"rejected":("error"!==k.status||k.error!==a.reason)&&r()}}return k}updateResult(){let e=this.#i,t=this.createResult(this.#s,this.options);if(this.#n=this.#s.state,this.#l=this.options,void 0!==this.#n.data&&(this.#u=this.#s),(0,l.shallowEqualObjects)(t,e))return;this.#i=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#f.size)return!0;let s=new Set(r??this.#f);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(t=>this.#i[t]!==e[t]&&s.has(t))};this.#C({listeners:r()})}#b(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#a=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#C(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function o(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&u(e,t,t.refetchOnMount)}function u(e,t,r){if(!1!==(0,l.resolveEnabled)(t.enabled,e)&&"static"!==(0,l.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&h(e,t)}return!1}function d(e,t,r,s){return(e!==t||!1===(0,l.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&h(e,r)}function h(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.i(47167);var p=e.i(71645),f=e.i(12598);e.i(43476);var m=p.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),x=p.createContext(!1);x.Provider;var v=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function y(e,t){return function(e,t,r){let a=p.useContext(x),i=p.useContext(m),n=(0,f.useQueryClient)(r),c=n.defaultQueryOptions(e);if(n.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=a?"isRestoring":"optimistic",c.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=c.staleTime;c.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof c.gcTime&&(c.gcTime=Math.max(c.gcTime,1e3))}(c.suspense||c.throwOnError||c.experimental_prefetchInRender)&&!i.isReset()&&(c.retryOnMount=!1),p.useEffect(()=>{i.clearReset()},[i]);let o=!n.getQueryCache().get(c.queryHash),[u]=p.useState(()=>new t(n,c)),d=u.getOptimisticResult(c),h=!a&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=h?u.subscribe(s.notifyManager.batchCalls(e)):l.noop;return u.updateResult(),t},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),p.useEffect(()=>{u.setOptions(c)},[c,u]),c?.suspense&&d.isPending)throw v(c,u,i);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&void 0===e.data||(0,l.shouldThrowError)(r,[e.error,s])))({result:d,errorResetBoundary:i,throwOnError:c.throwOnError,query:n.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw d.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(c,d),c.experimental_prefetchInRender&&!l.isServer&&d.isLoading&&d.isFetching&&!a){let e=o?v(c,u,i):n.getQueryCache().get(c.queryHash)?.promise;e?.catch(l.noop).finally(()=>{u.updateResult()})}return c.notifyOnChangeProps?d:u.trackResult(d)}(e,c,t)}e.s(["useQuery",()=>y],66027)},70273,e=>{"use strict";let t=(0,e.i(75254).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},57428,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(20783),a=e.i(30030),i=e.i(81140),n=e.i(69340),l=e.i(99682),c=e.i(35804),o=e.i(96626),u=e.i(48425),d="Checkbox",[h,p]=(0,a.createContextScope)(d),[f,m]=h(d);function x(e){let{__scopeCheckbox:s,checked:a,children:i,defaultChecked:l,disabled:c,form:o,name:u,onCheckedChange:h,required:p,value:m="on",internal_do_not_use_render:x}=e,[v,y]=(0,n.useControllableState)({prop:a,defaultProp:l??!1,onChange:h,caller:d}),[b,g]=r.useState(null),[j,R]=r.useState(null),C=r.useRef(!1),w=!b||!!o||!!b.closest("form"),N={checked:v,disabled:c,setChecked:y,control:b,setControl:g,name:u,form:o,value:m,hasConsumerStoppedPropagationRef:C,required:p,defaultChecked:!S(l)&&l,isFormControl:w,bubbleInput:j,setBubbleInput:R};return(0,t.jsx)(f,{scope:s,...N,children:"function"==typeof x?x(N):i})}var v="CheckboxTrigger",y=r.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:n,...l},c)=>{let{control:o,value:d,disabled:h,checked:p,required:f,setControl:x,setChecked:y,hasConsumerStoppedPropagationRef:b,isFormControl:g,bubbleInput:j}=m(v,e),R=(0,s.useComposedRefs)(c,x),C=r.useRef(p);return r.useEffect(()=>{let e=o?.form;if(e){let t=()=>y(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,y]),(0,t.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":S(p)?"mixed":p,"aria-required":f,"data-state":w(p),"data-disabled":h?"":void 0,disabled:h,value:d,...l,ref:R,onKeyDown:(0,i.composeEventHandlers)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(n,e=>{y(e=>!!S(e)||!e),j&&g&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});y.displayName=v;var b=r.forwardRef((e,r)=>{let{__scopeCheckbox:s,name:a,checked:i,defaultChecked:n,required:l,disabled:c,value:o,onCheckedChange:u,form:d,...h}=e;return(0,t.jsx)(x,{__scopeCheckbox:s,checked:i,defaultChecked:n,disabled:c,required:l,onCheckedChange:u,name:a,form:d,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y,{...h,ref:r,__scopeCheckbox:s}),e&&(0,t.jsx)(C,{__scopeCheckbox:s})]})})});b.displayName=d;var g="CheckboxIndicator",j=r.forwardRef((e,r)=>{let{__scopeCheckbox:s,forceMount:a,...i}=e,n=m(g,s);return(0,t.jsx)(o.Presence,{present:a||S(n.checked)||!0===n.checked,children:(0,t.jsx)(u.Primitive.span,{"data-state":w(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});j.displayName=g;var R="CheckboxBubbleInput",C=r.forwardRef(({__scopeCheckbox:e,...a},i)=>{let{control:n,hasConsumerStoppedPropagationRef:o,checked:d,defaultChecked:h,required:p,disabled:f,name:x,value:v,form:y,bubbleInput:b,setBubbleInput:g}=m(R,e),j=(0,s.useComposedRefs)(i,g),C=(0,l.usePrevious)(d),w=(0,c.useSize)(n);r.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!o.current;if(C!==d&&e){let r=new Event("click",{bubbles:t});b.indeterminate=S(d),e.call(b,!S(d)&&d),b.dispatchEvent(r)}},[b,C,d,o]);let N=r.useRef(!S(d)&&d);return(0,t.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??N.current,required:p,disabled:f,name:x,value:v,form:y,...a,tabIndex:-1,ref:j,style:{...a.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function w(e){return S(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=R;var N=e.i(43531),k=e.i(75157);let Q=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(b,{ref:s,className:(0,k.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(j,{className:(0,k.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(N.Check,{className:"h-4 w-4"})})}));Q.displayName=b.displayName,e.s(["Checkbox",()=>Q],57428)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},66760,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(66027),a=e.i(15288),i=e.i(19455),n=e.i(46897),l=e.i(31278),c=e.i(7233),o=e.i(46696),u=e.i(95187);let d=(0,u.createServerReference)("60c1b9bbbf0512ba645ad27bb23d69b431ccf214be",u.callServer,void 0,u.findSourceMapURL,"getCustomerLocations"),h=(0,u.createServerReference)("7006f6a543fd1e64a5a18d4b6997a274e04d8e8dec",u.callServer,void 0,u.findSourceMapURL,"createLocation"),p=(0,u.createServerReference)("6010ca52506169326b0ec9bef8267d64a7b180aff9",u.callServer,void 0,u.findSourceMapURL,"updateLocation"),f=(0,u.createServerReference)("40c8a733504bc3047640235398c947b14237259298",u.callServer,void 0,u.findSourceMapURL,"deleteLocation"),m=(0,u.createServerReference)("70acd45e560818e6fd33363f4c63d3d03f35846906",u.callServer,void 0,u.findSourceMapURL,"setDefaultLocation");var x=e.i(89464),v=e.i(87486);let y=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var b=e.i(27612),g=e.i(70273);function j({location:e,onEdit:r,onDelete:s,onSetDefault:l,isDeleting:c=!1}){let o=[e.address,e.apt_unit,e.suburb,e.city,e.postal_code].filter(Boolean).join(", ");return(0,t.jsxs)(a.Card,{className:"hover:shadow-md transition-shadow border-border w-full max-w-full overflow-hidden",children:[(0,t.jsx)(a.CardHeader,{className:"pb-2 px-3 py-3 sm:px-4 sm:py-4 md:px-6 md:py-6",children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-base sm:text-lg md:text-xl truncate",children:e.nickname}),e.is_default&&(0,t.jsxs)(v.Badge,{className:"bg-primary text-primary-foreground text-xs sm:text-sm px-2 sm:px-3 py-0.5",children:[(0,t.jsx)(g.Star,{className:"w-3 h-3 mr-1"}),"Default"]})]})})})}),(0,t.jsx)(a.CardContent,{className:"px-3 pb-3 sm:px-4 sm:pb-4 md:px-6 md:pb-6 pt-0",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-1.5 sm:gap-2 text-sm sm:text-base",children:[(0,t.jsx)(n.MapPin,{className:"w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-muted-foreground break-words leading-relaxed",children:o})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-border",children:[!e.is_default&&(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>l(e.id),className:"text-xs sm:text-sm h-8 sm:h-9",disabled:c,children:[(0,t.jsx)(g.Star,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1.5"}),"Set Default"]}),(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>r(e),className:"text-xs sm:text-sm h-8 sm:h-9",disabled:c,children:[(0,t.jsx)(y,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1.5"}),"Edit"]}),(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"text-xs sm:text-sm h-8 sm:h-9 text-destructive hover:text-destructive",disabled:c,children:[(0,t.jsx)(b.Trash2,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1.5"}),"Delete"]})]})]})})]})}var R=e.i(93479),C=e.i(10204),S=e.i(57428);function w({initialData:e,onSubmit:s,onCancel:c,isLoading:o=!1}){let[u,d]=(0,r.useState)({nickname:e?.nickname||"",address:e?.address||"",apt_unit:e?.apt_unit||"",suburb:e?.suburb||"",city:e?.city||"",postal_code:e?.postal_code||"",is_default:e?.is_default||!1}),h=async e=>{if(e.preventDefault(),!u.nickname.trim()||!u.address.trim()||!u.suburb.trim()||!u.city.trim())return;let t={nickname:u.nickname.trim(),address:u.address.trim(),apt_unit:u.apt_unit.trim()||null,suburb:u.suburb.trim(),city:u.city.trim(),postal_code:u.postal_code.trim()||null,is_default:u.is_default};await s(t)},p=(e,t)=>{d(r=>({...r,[e]:t}))};return(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(n.MapPin,{className:"w-5 h-5"}),e?"Edit Location":"Add New Location"]}),(0,t.jsx)(a.CardDescription,{children:e?"Update your location details below.":"Save a location for quick access when booking services."})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C.Label,{htmlFor:"nickname",children:"Nickname *"}),(0,t.jsx)(R.Input,{id:"nickname",placeholder:"e.g., Home, Office, Apartment",value:u.nickname,onChange:e=>p("nickname",e.target.value),required:!0,disabled:o})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C.Label,{htmlFor:"address",children:"Street Address *"}),(0,t.jsx)(R.Input,{id:"address",placeholder:"123 Main Street",value:u.address,onChange:e=>p("address",e.target.value),required:!0,disabled:o})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C.Label,{htmlFor:"apt_unit",children:"Apartment/Unit"}),(0,t.jsx)(R.Input,{id:"apt_unit",placeholder:"Apt 4B, Unit 12, etc.",value:u.apt_unit,onChange:e=>p("apt_unit",e.target.value),disabled:o})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C.Label,{htmlFor:"suburb",children:"Suburb *"}),(0,t.jsx)(R.Input,{id:"suburb",placeholder:"Sandton",value:u.suburb,onChange:e=>p("suburb",e.target.value),required:!0,disabled:o})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C.Label,{htmlFor:"city",children:"City *"}),(0,t.jsx)(R.Input,{id:"city",placeholder:"Johannesburg",value:u.city,onChange:e=>p("city",e.target.value),required:!0,disabled:o})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C.Label,{htmlFor:"postal_code",children:"Postal Code"}),(0,t.jsx)(R.Input,{id:"postal_code",placeholder:"2196",value:u.postal_code,onChange:e=>p("postal_code",e.target.value),disabled:o})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,t.jsx)(S.Checkbox,{id:"is_default",checked:u.is_default,onCheckedChange:e=>p("is_default",!0===e),disabled:o}),(0,t.jsx)(C.Label,{htmlFor:"is_default",className:"text-sm font-normal cursor-pointer",children:"Set as default location"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[c&&(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:c,disabled:o,children:"Cancel"}),(0,t.jsx)(i.Button,{type:"submit",disabled:o,children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),e?"Updating...":"Creating..."]}):e?"Update Location":"Create Location"})]})]})})]})}function N(){let[e,u]=(0,r.useState)(!0),[v,y]=(0,r.useState)(!1),[b,g]=(0,r.useState)(null),[R,C]=(0,r.useState)([]),[S,N]=(0,r.useState)(null),[k,Q]=(0,r.useState)(!1),[E,I]=(0,r.useState)(null);(0,s.useQuery)({queryKey:["authenticated-user"],queryFn:async()=>{let e=await (0,x.getAuthenticatedUser)();return e.success&&e.email?(I(e.email),e.email):null},staleTime:3e5}),(0,r.useEffect)(()=>{(async()=>{if(!E)return u(!0);try{u(!0);let e=await d(E);e.success&&e.locations?C(e.locations):o.toast.error(e.error||"Failed to load locations")}catch(e){console.error("Error loading locations:",e),o.toast.error("An unexpected error occurred")}finally{u(!1)}})()},[E]);let T=async e=>{if(!E)return void o.toast.error("Please wait for authentication");try{y(!0);let t=await h(E,void 0,e);t.success&&t.location?(C(e=>[t.location,...e]),Q(!1),N(null),o.toast.success("Location created successfully!")):o.toast.error(t.error||"Failed to create location")}catch(e){console.error("Error creating location:",e),o.toast.error("An unexpected error occurred")}finally{y(!1)}},L=async e=>{if(S)try{y(!0);let t=await p(S.id,e);t.success&&t.location?(C(e=>e.map(e=>e.id===S.id?t.location:e)),Q(!1),N(null),o.toast.success("Location updated successfully!")):o.toast.error(t.error||"Failed to update location")}catch(e){console.error("Error updating location:",e),o.toast.error("An unexpected error occurred")}finally{y(!1)}},_=async e=>{if(confirm("Are you sure you want to delete this location?"))try{g(e);let t=await f(e);t.success?(C(t=>t.filter(t=>t.id!==e)),o.toast.success("Location deleted successfully!")):o.toast.error(t.error||"Failed to delete location")}catch(e){console.error("Error deleting location:",e),o.toast.error("An unexpected error occurred")}finally{g(null)}},O=async e=>{if(!E)return void o.toast.error("Please wait for authentication");try{let t=await m(e,E);t.success&&t.location?(C(t=>t.map(t=>({...t,is_default:t.id===e}))),o.toast.success("Default location updated!")):o.toast.error(t.error||"Failed to set default location")}catch(e){console.error("Error setting default location:",e),o.toast.error("An unexpected error occurred")}},M=e=>{N(e),Q(!0)},P=()=>{N(null),Q(!0)};return e||!E?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Locations"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your saved locations"})]}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"flex items-center justify-center py-12",children:(0,t.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-muted-foreground"})})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Locations"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your saved locations"})]}),!k&&(0,t.jsxs)(i.Button,{onClick:P,className:"flex items-center gap-2",children:[(0,t.jsx)(c.Plus,{className:"w-4 h-4"}),"Add Location"]})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Saved Locations"}),0===R.length?(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(n.MapPin,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"You don't have any saved locations yet."}),(0,t.jsxs)(i.Button,{onClick:P,variant:"outline",children:[(0,t.jsx)(c.Plus,{className:"w-4 h-4 mr-2"}),"Add Your First Location"]})]})}):(0,t.jsx)("div",{className:"space-y-3",children:R.map(e=>(0,t.jsx)(j,{location:e,onEdit:M,onDelete:_,onSetDefault:O,isDeleting:b===e.id},e.id))})]}),(0,t.jsx)("div",{className:"space-y-4",children:k?(0,t.jsx)(w,{initialData:S||void 0,onSubmit:S?L:T,onCancel:()=>{Q(!1),N(null)},isLoading:v}):(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(n.MapPin,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:0===R.length?"Create a new location to get started":'Click "Add Location" to create a new location'})]})})})]})]})}e.s(["default",()=>N],66760)}]);