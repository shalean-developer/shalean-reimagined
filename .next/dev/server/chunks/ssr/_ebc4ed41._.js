module.exports = [
"[project]/src/lib/supabase/server.ts [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "createClient",
    ()=>createClient
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$supabase$2f$ssr$2f$dist$2f$module$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@supabase/ssr/dist/module/index.js [app-rsc] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$supabase$2f$ssr$2f$dist$2f$module$2f$createServerClient$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@supabase/ssr/dist/module/createServerClient.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/headers.js [app-rsc] (ecmascript)");
;
;
async function createClient() {
    const supabaseUrl = ("TURBOPACK compile-time value", "https://orrmzbaztgajftxytduk.supabase.co");
    const supabaseAnonKey = ("TURBOPACK compile-time value", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ycm16YmF6dGdhamZ0eHl0ZHVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjczODkyMTgsImV4cCI6MjA4Mjk2NTIxOH0.ei-T1BLhgmaYwxxd1YQqKkvv-mgXovrY2KpPPompHPw");
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    try {
        const cookieStore = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$headers$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["cookies"])();
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$supabase$2f$ssr$2f$dist$2f$module$2f$createServerClient$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createServerClient"])(supabaseUrl, supabaseAnonKey, {
            cookies: {
                getAll () {
                    return cookieStore.getAll();
                },
                setAll (cookiesToSet) {
                    try {
                        cookiesToSet.forEach(({ name, value, options })=>cookieStore.set(name, value, options));
                    } catch  {
                    // The `setAll` method was called from a Server Component.
                    // This can be ignored if you have middleware refreshing
                    // user sessions.
                    }
                }
            }
        });
    } catch (error) {
        console.error('Error creating Supabase client:', error);
        throw error;
    }
}
}),
"[project]/app/admin/(dashboard)/layout-client.tsx [app-rsc] (client reference proxy) <module evaluation>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AdminLayoutClient",
    ()=>AdminLayoutClient
]);
// This file is generated by next-core EcmascriptClientReferenceModule.
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const AdminLayoutClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AdminLayoutClient() from the server but AdminLayoutClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/app/admin/(dashboard)/layout-client.tsx <module evaluation>", "AdminLayoutClient");
}),
"[project]/app/admin/(dashboard)/layout-client.tsx [app-rsc] (client reference proxy)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AdminLayoutClient",
    ()=>AdminLayoutClient
]);
// This file is generated by next-core EcmascriptClientReferenceModule.
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const AdminLayoutClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call AdminLayoutClient() from the server but AdminLayoutClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/app/admin/(dashboard)/layout-client.tsx", "AdminLayoutClient");
}),
"[project]/app/admin/(dashboard)/layout-client.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f28$dashboard$292f$layout$2d$client$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/app/admin/(dashboard)/layout-client.tsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f28$dashboard$292f$layout$2d$client$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/app/admin/(dashboard)/layout-client.tsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f28$dashboard$292f$layout$2d$client$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/app/admin/actions.ts [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"0092476789f4f1ad4a1c9f60a21dc907c037165309":"getAdminStats","0097f6a77558e0ca0b2bd800bbbb35227b2ff8d496":"getCurrentAdmin","0098d3c279eb4b40d99dbca04ff9c57dd3bb7b4d0d":"getAllCleaners","00ec23dc30346eb0b06872c62ee11beb9bc0025c60":"getAllCustomers","409f29161cc3d02faa5d5819175e69698f9cbe385a":"getAllBookings","603f8b11f86ad400c9981577e45baa113ee887c0fa":"authenticateAdmin"},"",""] */ __turbopack_context__.s([
    "authenticateAdmin",
    ()=>authenticateAdmin,
    "getAdminStats",
    ()=>getAdminStats,
    "getAllBookings",
    ()=>getAllBookings,
    "getAllCleaners",
    ()=>getAllCleaners,
    "getAllCustomers",
    ()=>getAllCustomers,
    "getCurrentAdmin",
    ()=>getCurrentAdmin
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/supabase/server.ts [app-rsc] (ecmascript)");
(()=>{
    const e = new Error("Cannot find module '@/src/lib/supabase/server-admin'");
    e.code = 'MODULE_NOT_FOUND';
    throw e;
})();
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js [app-rsc] (ecmascript)");
;
;
;
/**
 * Check if user is an admin
 * Admins are identified by email pattern: *@admin.shalean.local
 * or user metadata with role: 'admin'
 */ function isAdminUser(email, userMetadata) {
    if (!email) return false;
    // Check email pattern
    if (email.includes('@admin.shalean.local')) {
        return true;
    }
    // Check user metadata
    if (userMetadata?.role === 'admin') {
        return true;
    }
    // Hardcoded admin emails (fallback)
    const adminEmails = [
        'admin@shalean.local',
        'admin@admin.shalean.local'
    ];
    return adminEmails.includes(email.toLowerCase());
}
async function getCurrentAdmin() {
    try {
        const supabase = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createClient"])();
        const { data: { user }, error: authError } = await supabase.auth.getUser();
        if (authError || !user) {
            return {
                success: false,
                error: 'Not authenticated'
            };
        }
        // Check if user is admin
        if (!isAdminUser(user.email, user.user_metadata)) {
            return {
                success: false,
                error: 'Not an admin user'
            };
        }
        return {
            success: true,
            admin: {
                id: user.id,
                email: user.email,
                name: user.user_metadata?.name || user.email?.split('@')[0]
            }
        };
    } catch (error) {
        console.error('Error in getCurrentAdmin:', error);
        return {
            success: false,
            error: error instanceof Error ? error.message : 'Failed to get admin'
        };
    }
}
async function authenticateAdmin(email, password) {
    try {
        // Check if email matches admin pattern
        if (!isAdminUser(email)) {
            return {
                success: false,
                error: 'Not an admin email'
            };
        }
        // Authentication happens client-side, this is just validation
        const supabase = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createClient"])();
        const { data, error } = await supabase.auth.signInWithPassword({
            email,
            password
        });
        if (error || !data.user) {
            return {
                success: false,
                error: 'Invalid credentials'
            };
        }
        return {
            success: true,
            admin: {
                id: data.user.id,
                email: data.user.email,
                name: data.user.user_metadata?.name || data.user.email?.split('@')[0]
            }
        };
    } catch (error) {
        console.error('Error in authenticateAdmin:', error);
        return {
            success: false,
            error: error instanceof Error ? error.message : 'Authentication failed'
        };
    }
}
async function getAdminStats() {
    try {
        // Verify admin access
        const adminResult = await getCurrentAdmin();
        if (!adminResult.success) {
            return {
                success: false,
                error: 'Not authenticated as admin'
            };
        }
        const supabase = createAdminClient();
        // Get all bookings
        const { data: bookings, error: bookingsError } = await supabase.from('bookings').select('status, total_amount, payment_status, service_date, created_at');
        if (bookingsError) {
            console.error('Error fetching bookings:', bookingsError);
            return {
                success: false,
                error: bookingsError.message
            };
        }
        // Get all customers (profiles)
        const { data: customers, error: customersError } = await supabase.from('profiles').select('id');
        if (customersError) {
            console.error('Error fetching customers:', customersError);
            return {
                success: false,
                error: customersError.message
            };
        }
        // Get all cleaners
        const { data: cleaners, error: cleanersError } = await supabase.from('cleaners').select('id, is_active');
        if (cleanersError) {
            console.error('Error fetching cleaners:', cleanersError);
            return {
                success: false,
                error: cleanersError.message
            };
        }
        const today = new Date().toISOString().split('T')[0];
        const now = new Date();
        const firstDayOfMonth = new Date(now.getFullYear(), now.getMonth(), 1).toISOString().split('T')[0];
        const allBookings = bookings || [];
        const activeBookings = allBookings.filter((b)=>[
                'pending',
                'confirmed',
                'on_my_way',
                'started'
            ].includes(b.status)).length;
        const paidBookings = allBookings.filter((b)=>b.payment_status === 'paid');
        const totalRevenue = paidBookings.reduce((sum, b)=>sum + (b.total_amount || 0), 0);
        const monthlyPaidBookings = allBookings.filter((b)=>b.payment_status === 'paid' && b.service_date >= firstDayOfMonth);
        const monthlyRevenue = monthlyPaidBookings.reduce((sum, b)=>sum + (b.total_amount || 0), 0);
        const completedBookings = allBookings.filter((b)=>b.status === 'completed').length;
        const completionRate = allBookings.length > 0 ? completedBookings / allBookings.length * 100 : 0;
        const allCleaners = cleaners || [];
        const activeCleaners = allCleaners.filter((c)=>c.is_active).length;
        return {
            success: true,
            stats: {
                totalBookings: allBookings.length,
                activeBookings,
                totalRevenue,
                monthlyRevenue,
                totalCustomers: customers?.length || 0,
                totalCleaners: allCleaners.length,
                activeCleaners,
                completionRate: Math.round(completionRate * 100) / 100
            }
        };
    } catch (error) {
        console.error('Error in getAdminStats:', error);
        return {
            success: false,
            error: error instanceof Error ? error.message : 'Failed to fetch stats'
        };
    }
}
async function getAllBookings(filter) {
    try {
        // Verify admin access
        const adminResult = await getCurrentAdmin();
        if (!adminResult.success) {
            return {
                success: false,
                error: 'Not authenticated as admin'
            };
        }
        const supabase = createAdminClient();
        let query = supabase.from('bookings').select('*').order('service_date', {
            ascending: false
        }).order('created_at', {
            ascending: false
        });
        if (filter) {
            if (filter.status && filter.status !== 'all') {
                query = query.eq('status', filter.status);
            }
            if (filter.dateFrom) {
                query = query.gte('service_date', filter.dateFrom);
            }
            if (filter.dateTo) {
                query = query.lte('service_date', filter.dateTo);
            }
            if (filter.customerEmail) {
                query = query.eq('customer_email', filter.customerEmail);
            }
            if (filter.cleanerId) {
                query = query.eq('preferred_cleaner_id', filter.cleanerId);
            }
        }
        const { data, error } = await query;
        if (error) {
            console.error('Error fetching bookings:', error);
            return {
                success: false,
                error: error.message
            };
        }
        return {
            success: true,
            bookings: data || []
        };
    } catch (error) {
        console.error('Error in getAllBookings:', error);
        return {
            success: false,
            error: error instanceof Error ? error.message : 'Failed to fetch bookings'
        };
    }
}
async function getAllCustomers() {
    try {
        // Verify admin access
        const adminResult = await getCurrentAdmin();
        if (!adminResult.success) {
            return {
                success: false,
                error: 'Not authenticated as admin'
            };
        }
        const supabase = createAdminClient();
        const { data, error } = await supabase.from('profiles').select('*').order('created_at', {
            ascending: false
        });
        if (error) {
            console.error('Error fetching customers:', error);
            return {
                success: false,
                error: error.message
            };
        }
        return {
            success: true,
            customers: data || []
        };
    } catch (error) {
        console.error('Error in getAllCustomers:', error);
        return {
            success: false,
            error: error instanceof Error ? error.message : 'Failed to fetch customers'
        };
    }
}
async function getAllCleaners() {
    try {
        // Verify admin access
        const adminResult = await getCurrentAdmin();
        if (!adminResult.success) {
            return {
                success: false,
                error: 'Not authenticated as admin'
            };
        }
        const supabase = createAdminClient();
        const { data, error } = await supabase.from('cleaners').select('*').order('created_at', {
            ascending: false
        });
        if (error) {
            console.error('Error fetching cleaners:', error);
            return {
                success: false,
                error: error.message
            };
        }
        return {
            success: true,
            cleaners: data || []
        };
    } catch (error) {
        console.error('Error in getAllCleaners:', error);
        return {
            success: false,
            error: error instanceof Error ? error.message : 'Failed to fetch cleaners'
        };
    }
}
;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ensureServerEntryExports"])([
    getCurrentAdmin,
    authenticateAdmin,
    getAdminStats,
    getAllBookings,
    getAllCustomers,
    getAllCleaners
]);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getCurrentAdmin, "0097f6a77558e0ca0b2bd800bbbb35227b2ff8d496", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(authenticateAdmin, "603f8b11f86ad400c9981577e45baa113ee887c0fa", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAdminStats, "0092476789f4f1ad4a1c9f60a21dc907c037165309", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAllBookings, "409f29161cc3d02faa5d5819175e69698f9cbe385a", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAllCustomers, "00ec23dc30346eb0b06872c62ee11beb9bc0025c60", null);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getAllCleaners, "0098d3c279eb4b40d99dbca04ff9c57dd3bb7b4d0d", null);
}),
"[project]/app/admin/(dashboard)/layout.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>AdminDashboardLayout,
    "dynamic",
    ()=>dynamic
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$api$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/next/dist/api/navigation.react-server.js [app-rsc] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/client/components/navigation.react-server.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/supabase/server.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f28$dashboard$292f$layout$2d$client$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/app/admin/(dashboard)/layout-client.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/app/admin/actions.ts [app-rsc] (ecmascript)");
;
;
;
;
;
const dynamic = 'force-dynamic';
async function AdminDashboardLayout({ children }) {
    try {
        // Server-side authentication check
        const supabase = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createClient"])();
        const { data: { user }, error } = await supabase.auth.getUser();
        if (error) {
            console.error('Error getting user in admin layout:', error.message);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["redirect"])('/admin/login?redirect=/admin');
        }
        if (!user) {
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["redirect"])('/admin/login?redirect=/admin');
        }
        // Verify user is an admin
        const adminResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCurrentAdmin"])();
        if (!adminResult.success || !adminResult.admin) {
            // User is authenticated but not an admin - redirect to login
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["redirect"])('/admin/login?redirect=/admin');
        }
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$app$2f$admin$2f28$dashboard$292f$layout$2d$client$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["AdminLayoutClient"], {
            children: children
        }, void 0, false, {
            fileName: "[project]/app/admin/(dashboard)/layout.tsx",
            lineNumber: 38,
            columnNumber: 12
        }, this);
    } catch (error) {
        // Handle errors from createClient or other operations
        console.error('Error in admin layout:', error);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["redirect"])('/admin/login?redirect=/admin');
    }
}
}),
];

//# sourceMappingURL=_ebc4ed41._.js.map