{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90 shadow-button hover:shadow-lg hover:-translate-y-0.5\",\r\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n        hero: \"bg-primary text-primary-foreground shadow-button hover:shadow-lg hover:-translate-y-0.5 hover:bg-primary/90\",\r\n        heroOutline: \"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground\",\r\n        cta: \"bg-primary text-primary-foreground shadow-button hover:shadow-lg hover:-translate-y-1 hover:bg-primary/90\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-12 rounded-lg px-6\",\r\n        xl: \"h-14 rounded-xl px-8 text-base\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\r\n  },\r\n);\r\nButton.displayName = \"Button\";\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,wWACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;YACN,MAAM;YACN,aAAa;YACb,KAAK;QACP;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBAAO,6LAAC;QAAK,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/src/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\r\n));\r\nLabel.displayName = LabelPrimitive.Root.displayName;\r\n\r\nexport { Label };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EAAC;AAE1B,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;;AAErF,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className,\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/src/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\r\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Select = SelectPrimitive.Root;\r\n\r\nconst SelectGroup = SelectPrimitive.Group;\r\n\r\nconst SelectValue = SelectPrimitive.Value;\r\n\r\nconst SelectTrigger = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <SelectPrimitive.Icon asChild>\r\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\r\n    </SelectPrimitive.Icon>\r\n  </SelectPrimitive.Trigger>\r\n));\r\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\r\n\r\nconst SelectScrollUpButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollUpButton\r\n    ref={ref}\r\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\r\n    {...props}\r\n  >\r\n    <ChevronUp className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollUpButton>\r\n));\r\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\r\n\r\nconst SelectScrollDownButton = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.ScrollDownButton\r\n    ref={ref}\r\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\r\n    {...props}\r\n  >\r\n    <ChevronDown className=\"h-4 w-4\" />\r\n  </SelectPrimitive.ScrollDownButton>\r\n));\r\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\r\n\r\nconst SelectContent = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\r\n>(({ className, children, position = \"popper\", ...props }, ref) => (\r\n  <SelectPrimitive.Portal>\r\n    <SelectPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        position === \"popper\" &&\r\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n        className,\r\n      )}\r\n      position={position}\r\n      {...props}\r\n    >\r\n      <SelectScrollUpButton />\r\n      <SelectPrimitive.Viewport\r\n        className={cn(\r\n          \"p-1\",\r\n          position === \"popper\" &&\r\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\r\n        )}\r\n      >\r\n        {children}\r\n      </SelectPrimitive.Viewport>\r\n      <SelectScrollDownButton />\r\n    </SelectPrimitive.Content>\r\n  </SelectPrimitive.Portal>\r\n));\r\nSelectContent.displayName = SelectPrimitive.Content.displayName;\r\n\r\nconst SelectLabel = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Label ref={ref} className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)} {...props} />\r\n));\r\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\r\n\r\nconst SelectItem = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SelectPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <SelectPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </SelectPrimitive.ItemIndicator>\r\n    </span>\r\n\r\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n  </SelectPrimitive.Item>\r\n));\r\nSelectItem.displayName = SelectPrimitive.Item.displayName;\r\n\r\nconst SelectSeparator = React.forwardRef<\r\n  React.ElementRef<typeof SelectPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\r\n));\r\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\r\n\r\nexport {\r\n  Select,\r\n  SelectGroup,\r\n  SelectValue,\r\n  SelectTrigger,\r\n  SelectContent,\r\n  SelectLabel,\r\n  SelectItem,\r\n  SelectSeparator,\r\n  SelectScrollUpButton,\r\n  SelectScrollDownButton,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,2KAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;MATnB;AAYN,qBAAqB,WAAW,GAAG,uLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,2KAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;MATrB;AAYN,uBAAuB,WAAW,GAAG,yLAAgC,CAAC,WAAW;AAEjF,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,4HAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,4HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,0CAA0C;QAAa,GAAG,KAAK;;;;;;;AAEhH,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,2KAAgB,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAyB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QAAa,GAAG,KAAK;;;;;;;AAEtG,gBAAgB,WAAW,GAAG,kLAAyB,CAAC,WAAW"}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/src/components/ui/avatar.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\", className)}\r\n    {...props}\r\n  />\r\n));\r\nAvatar.displayName = AvatarPrimitive.Root.displayName;\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image ref={ref} className={cn(\"aspect-square h-full w-full\", className)} {...props} />\r\n));\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\"flex h-full w-full items-center justify-center rounded-full bg-muted\", className)}\r\n    {...props}\r\n  />\r\n));\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback };\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iEAAiE;QAC9E,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,+BAA+B;QAAa,GAAG,KAAK;;;;;;;AAErG,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,2KAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,iLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wEAAwE;QACrF,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E;KAFS"}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/src/components/ui/progress.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Progress = React.forwardRef<\r\n  React.ElementRef<typeof ProgressPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\r\n>(({ className, value, ...props }, ref) => (\r\n  <ProgressPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative h-4 w-full overflow-hidden rounded-full bg-secondary\", className)}\r\n    {...props}\r\n  >\r\n    <ProgressPrimitive.Indicator\r\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\r\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n    />\r\n  </ProgressPrimitive.Root>\r\n));\r\nProgress.displayName = ProgressPrimitive.Root.displayName;\r\n\r\nexport { Progress };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iEAAiE;QAC9E,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/app/booking/book/components/Step2ScheduleCleaner.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState, useMemo } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { MapPin, Heart, Star, CheckCircle2, XCircle, TrendingUp, Home, Calendar, Info } from 'lucide-react';\r\nimport { BookingFormData, CleanerWithAvailability } from '@/types/booking';\r\nimport { getAvailableCleanersWithCriteriaClient } from '../actions-client';\r\nimport { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { sortCleanersByCriteria, formatReliabilityScore, SortCriteria } from '@/lib/utils/cleaner-utils';\r\nimport { getServices } from '../../quote/actions';\r\nimport { supportsRecurringBookings, getAvailableFrequencies, isValidFrequencyForService, requiresTeamBooking } from '@/lib/utils/service-validation';\r\nimport { checkTeamAvailabilityForDateClient } from '../actions-client';\r\n\r\ninterface Step2ScheduleCleanerProps {\r\n  formData: BookingFormData;\r\n  updateFormData: (updates: Partial<BookingFormData>) => void;\r\n}\r\n\r\nconst frequencyOptions = [\r\n  { value: 'one-time', label: 'One-Time', subtitle: 'Single session', icon: Home, discount: null },\r\n  { value: 'weekly', label: 'Weekly', subtitle: 'Every week', icon: Calendar, discount: 'Save 15%' },\r\n  { value: 'bi-weekly', label: 'Bi-Weekly', subtitle: 'Every 2 weeks', icon: Calendar, discount: 'Save 10%' },\r\n  { value: 'monthly', label: 'Monthly', subtitle: 'Once a month', icon: Calendar, discount: 'Save 5%' },\r\n];\r\n\r\nexport function Step2ScheduleCleaner({ formData, updateFormData }: Step2ScheduleCleanerProps) {\r\n  const [cleaners, setCleaners] = useState<CleanerWithAvailability[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [sortCriteria, setSortCriteria] = useState<SortCriteria>('best-match');\r\n  const [mounted, setMounted] = useState(false);\r\n  const [teamAvailability, setTeamAvailability] = useState<{\r\n    availableTeams: number[];\r\n    bookedTeams: number[];\r\n    allTeamsBooked: boolean;\r\n  } | null>(null);\r\n  const [loadingTeams, setLoadingTeams] = useState(false);\r\n\r\n  // Fetch services to get service name\r\n  const { data: services = [] } = useQuery({\r\n    queryKey: ['services'],\r\n    queryFn: getServices,\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n\r\n  // Get selected service\r\n  const selectedService = useMemo(() => \r\n    services.find(s => s.id === formData.serviceId), \r\n    [services, formData.serviceId]\r\n  );\r\n  const serviceName = useMemo(() => selectedService?.name || '', [selectedService]);\r\n  const supportsRecurring = useMemo(() => supportsRecurringBookings(serviceName), [serviceName]);\r\n  const availableFrequencies = useMemo(() => getAvailableFrequencies(serviceName), [serviceName]);\r\n  \r\n  // Check if service requires team booking - default to false if service name is not yet available\r\n  const isTeamBooking = useMemo(() => {\r\n    return serviceName ? requiresTeamBooking(serviceName) : false;\r\n  }, [serviceName]);\r\n\r\n  // Ensure component is mounted before rendering Select to avoid hydration mismatch\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  // Auto-set frequency to 'one-time' if service doesn't support recurring and current frequency is not valid\r\n  useEffect(() => {\r\n    if (serviceName && !isValidFrequencyForService(serviceName, formData.cleaningFrequency)) {\r\n      updateFormData({ cleaningFrequency: 'one-time' });\r\n    }\r\n  }, [serviceName, formData.cleaningFrequency, updateFormData]);\r\n\r\n  // Fetch team availability for team-based services\r\n  useEffect(() => {\r\n    async function fetchTeamAvailability() {\r\n      if (!isTeamBooking || !formData.serviceDate || !serviceName) {\r\n        setTeamAvailability(null);\r\n        return;\r\n      }\r\n\r\n      setLoadingTeams(true);\r\n      try {\r\n        const availability = await checkTeamAvailabilityForDateClient(\r\n          formData.serviceDate,\r\n          serviceName\r\n        );\r\n        setTeamAvailability(availability);\r\n      } catch (error) {\r\n        console.error('Error fetching team availability:', error);\r\n        setTeamAvailability({\r\n          availableTeams: [1, 2, 3],\r\n          bookedTeams: [],\r\n          allTeamsBooked: false,\r\n        });\r\n      } finally {\r\n        setLoadingTeams(false);\r\n      }\r\n    }\r\n\r\n    fetchTeamAvailability();\r\n  }, [isTeamBooking, formData.serviceDate, serviceName]);\r\n\r\n  // Fetch cleaners for regular services\r\n  useEffect(() => {\r\n    async function fetchCleaners() {\r\n      // Skip fetching cleaners for team-based services\r\n      if (isTeamBooking) {\r\n        setCleaners([]);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setLoading(true);\r\n      try {\r\n        const result = await getAvailableCleanersWithCriteriaClient({\r\n          serviceSuburb: formData.serviceSuburb,\r\n          serviceDate: formData.serviceDate,\r\n          serviceTime: formData.serviceTime,\r\n          serviceDuration: formData.serviceDuration,\r\n        });\r\n        if (result.success && result.cleaners) {\r\n          // Sort cleaners by selected criteria\r\n          const sorted = sortCleanersByCriteria(result.cleaners, sortCriteria);\r\n          setCleaners(sorted);\r\n        } else {\r\n          // If fetch fails, set empty array to prevent errors\r\n          setCleaners([]);\r\n          console.warn('Failed to fetch cleaners:', result.error);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching cleaners:', error);\r\n        // Set empty array on error to prevent crashes\r\n        setCleaners([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    fetchCleaners();\r\n  }, [isTeamBooking, formData.serviceSuburb, formData.serviceDate, formData.serviceTime, formData.serviceDuration, sortCriteria]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h2 className=\"text-2xl font-bold text-foreground mb-2\">Schedule & Cleaner</h2>\r\n        <p className=\"text-muted-foreground\">Choose your preferred date and time.</p>\r\n      </div>\r\n\r\n      {/* Service Address */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <MapPin className=\"w-5 h-5 text-primary\" />\r\n          <h3 className=\"text-lg font-semibold\">Service Address</h3>\r\n        </div>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid md:grid-cols-[2fr_1fr] gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Street Address *</Label>\r\n              <Input\r\n                placeholder=\"e.g., 123 Nelson Mandela Avenue\"\r\n                value={formData.serviceAddress}\r\n                onChange={(e) => updateFormData({ serviceAddress: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>Apt / Unit</Label>\r\n              <Input\r\n                placeholder=\"e.g., Apt 4B, Unit 12\"\r\n                value={formData.serviceAptUnit}\r\n                onChange={(e) => updateFormData({ serviceAptUnit: e.target.value })}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"grid md:grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Suburb *</Label>\r\n              <Input\r\n                value={formData.serviceSuburb}\r\n                onChange={(e) => updateFormData({ serviceSuburb: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>City *</Label>\r\n              <Input\r\n                value={formData.serviceCity}\r\n                onChange={(e) => updateFormData({ serviceCity: e.target.value })}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Team or Cleaner Selection */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex flex-col gap-1\">\r\n            <h3 className=\"text-lg font-semibold\">\r\n              {isTeamBooking\r\n                ? 'Select a team'\r\n                : formData.numberOfCleaners > 1 \r\n                ? `Select ${formData.numberOfCleaners} cleaners`\r\n                : 'Select your preferred cleaner'}\r\n            </h3>\r\n            {isTeamBooking && formData.serviceDate && (\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Each team can be booked once per day. Teams work for the entire day.\r\n              </p>\r\n            )}\r\n            {!isTeamBooking && formData.numberOfCleaners > 1 && (\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {(formData.preferredCleanerIds || []).length} of {formData.numberOfCleaners} selected\r\n              </p>\r\n            )}\r\n          </div>\r\n          {mounted && !isTeamBooking && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <Label htmlFor=\"sort-criteria\" className=\"text-sm text-muted-foreground\">Sort by:</Label>\r\n              <Select value={sortCriteria} onValueChange={(value) => setSortCriteria(value as SortCriteria)}>\r\n                <SelectTrigger id=\"sort-criteria\" className=\"w-[180px]\">\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"best-match\">Best Match</SelectItem>\r\n                  <SelectItem value=\"highest-rated\">Highest Rated</SelectItem>\r\n                  <SelectItem value=\"most-reliable\">Most Reliable</SelectItem>\r\n                  <SelectItem value=\"most-experienced\">Most Experienced</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {isTeamBooking ? (\r\n          // Team Selection UI\r\n          loadingTeams ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">Loading team availability...</div>\r\n          ) : !formData.serviceDate ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              Please select a date first to see team availability\r\n            </div>\r\n          ) : teamAvailability?.allTeamsBooked ? (\r\n            <div className=\"text-center py-8\">\r\n              <p className=\"text-muted-foreground mb-2\">All teams are booked for this date.</p>\r\n              <p className=\"text-sm text-muted-foreground\">Please select a different date.</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              {[1, 2, 3].map((teamNumber) => {\r\n                const isAvailable = teamAvailability?.availableTeams.includes(teamNumber) ?? false;\r\n                const isBooked = teamAvailability?.bookedTeams.includes(teamNumber) ?? false;\r\n                const isSelected = formData.teamNumber === teamNumber;\r\n                const isDisabled = isBooked;\r\n\r\n                const handleTeamClick = () => {\r\n                  if (isDisabled) return;\r\n                  updateFormData({\r\n                    teamNumber: isSelected ? null : teamNumber,\r\n                    preferredCleanerIds: [], // Clear cleaner selection for team bookings\r\n                  });\r\n                };\r\n\r\n                return (\r\n                  <button\r\n                    key={teamNumber}\r\n                    type=\"button\"\r\n                    onClick={handleTeamClick}\r\n                    disabled={isDisabled}\r\n                    className={`relative p-6 rounded-xl border-2 transition-all text-center ${\r\n                      isSelected\r\n                        ? 'border-primary bg-primary/5'\r\n                        : isDisabled\r\n                        ? 'border-destructive/50 bg-muted/50 opacity-60 cursor-not-allowed'\r\n                        : 'border-border hover:border-primary/50 bg-background'\r\n                    }`}\r\n                  >\r\n                    {isSelected && (\r\n                      <div className=\"absolute top-2 right-2 w-5 h-5 rounded-full bg-primary flex items-center justify-center z-10\">\r\n                        <CheckCircle2 className=\"w-3 h-3 text-primary-foreground\" />\r\n                      </div>\r\n                    )}\r\n\r\n                    {isAvailable && !isBooked && (\r\n                      <Badge\r\n                        variant=\"default\"\r\n                        className=\"absolute top-2 left-2 text-xs bg-green-500 hover:bg-green-600\"\r\n                      >\r\n                        <CheckCircle2 className=\"w-3 h-3 mr-1\" />\r\n                        Available\r\n                      </Badge>\r\n                    )}\r\n\r\n                    {isBooked && (\r\n                      <Badge\r\n                        variant=\"destructive\"\r\n                        className=\"absolute top-2 left-2 text-xs\"\r\n                      >\r\n                        <XCircle className=\"w-3 h-3 mr-1\" />\r\n                        Booked\r\n                      </Badge>\r\n                    )}\r\n\r\n                    <div className=\"flex flex-col items-center gap-3 mt-6\">\r\n                      <div className=\"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center\">\r\n                        <span className=\"text-2xl font-bold text-primary\">Team {teamNumber}</span>\r\n                      </div>\r\n                      <div className=\"text-center\">\r\n                        <p className=\"font-semibold\">Team {teamNumber}</p>\r\n                        <p className=\"text-xs text-muted-foreground mt-1\">\r\n                          {isBooked ? 'Already booked' : 'Available for booking'}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          )\r\n        ) : loading ? (\r\n          <div className=\"text-center py-8 text-muted-foreground\">Loading cleaners...</div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {/* No preference option - only show when numberOfCleaners === 1 and no available cleaners */}\r\n            {cleaners.length === 0 && formData.numberOfCleaners === 1 && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => updateFormData({ preferredCleanerIds: [] })}\r\n                className={`relative p-4 rounded-xl border-2 transition-all text-left ${\r\n                  (formData.preferredCleanerIds || []).length === 0\r\n                    ? 'border-primary bg-primary/5'\r\n                    : 'border-border hover:border-primary/50 bg-background'\r\n                }`}\r\n              >\r\n                {(formData.preferredCleanerIds || []).length === 0 && (\r\n                  <div className=\"absolute top-2 right-2 w-5 h-5 rounded-full bg-primary flex items-center justify-center\">\r\n                    <CheckCircle2 className=\"w-3 h-3 text-primary-foreground\" />\r\n                  </div>\r\n                )}\r\n                <div className=\"flex flex-col items-center gap-2\">\r\n                  <div className=\"w-12 h-12 rounded-full bg-muted flex items-center justify-center\">\r\n                    <span className=\"text-lg\">?</span>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <p className=\"font-semibold text-sm\">No preference</p>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">Best available</p>\r\n                  </div>\r\n                </div>\r\n              </button>\r\n            )}\r\n\r\n            {/* Cleaner cards */}\r\n            {cleaners.map((cleaner) => {\r\n              const preferredCleanerIds = formData.preferredCleanerIds || [];\r\n              const isSelected = preferredCleanerIds.includes(cleaner.id);\r\n              const reliabilityScore = cleaner.reliability_score || 0;\r\n              const isHighReliability = reliabilityScore >= 80;\r\n              const isAvailable = cleaner.isAvailableForSlot !== false;\r\n              const hasConflict = cleaner.bookingConflict === true;\r\n              const isMultiSelect = formData.numberOfCleaners > 1;\r\n              const isLimitReached = isMultiSelect && preferredCleanerIds.length >= formData.numberOfCleaners;\r\n              const isDisabled = hasConflict || (isLimitReached && !isSelected);\r\n\r\n              const handleCleanerClick = () => {\r\n                if (isDisabled) return;\r\n                \r\n                if (isMultiSelect) {\r\n                  // Multi-select mode: toggle selection\r\n                  if (isSelected) {\r\n                    // Deselect\r\n                    updateFormData({\r\n                      preferredCleanerIds: preferredCleanerIds.filter(id => id !== cleaner.id)\r\n                    });\r\n                  } else {\r\n                    // Select (only if under limit)\r\n                    if (preferredCleanerIds.length < formData.numberOfCleaners) {\r\n                      updateFormData({\r\n                        preferredCleanerIds: [...preferredCleanerIds, cleaner.id]\r\n                      });\r\n                    }\r\n                  }\r\n                } else {\r\n                  // Single select mode: replace selection\r\n                  updateFormData({\r\n                    preferredCleanerIds: isSelected ? [] : [cleaner.id]\r\n                  });\r\n                }\r\n              };\r\n\r\n              return (\r\n                <button\r\n                  key={cleaner.id}\r\n                  type=\"button\"\r\n                  onClick={handleCleanerClick}\r\n                  disabled={isDisabled}\r\n                  className={`relative p-4 rounded-xl border-2 transition-all text-left ${\r\n                    isSelected\r\n                      ? 'border-primary bg-primary/5'\r\n                      : isDisabled\r\n                      ? 'border-destructive/50 bg-muted/50 opacity-60 cursor-not-allowed'\r\n                      : 'border-border hover:border-primary/50 bg-background'\r\n                  }`}\r\n                >\r\n                  {isSelected && (\r\n                    <div className=\"absolute top-2 right-2 w-5 h-5 rounded-full bg-primary flex items-center justify-center z-10\">\r\n                      <CheckCircle2 className=\"w-3 h-3 text-primary-foreground\" />\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Availability Badge */}\r\n                  {!hasConflict && isAvailable && formData.serviceDate && formData.serviceTime && (\r\n                    <Badge\r\n                      variant=\"default\"\r\n                      className=\"absolute top-2 left-2 text-xs bg-green-500 hover:bg-green-600\"\r\n                    >\r\n                      <CheckCircle2 className=\"w-3 h-3 mr-1\" />\r\n                      Available\r\n                    </Badge>\r\n                  )}\r\n                  {hasConflict && (\r\n                    <Badge\r\n                      variant=\"destructive\"\r\n                      className=\"absolute top-2 left-2 text-xs\"\r\n                    >\r\n                      <XCircle className=\"w-3 h-3 mr-1\" />\r\n                      Booked\r\n                    </Badge>\r\n                  )}\r\n\r\n                  {/* High Reliability Badge */}\r\n                  {isHighReliability && !hasConflict && (\r\n                    <Badge\r\n                      variant=\"secondary\"\r\n                      className=\"absolute top-2 left-2 text-xs bg-blue-500 hover:bg-blue-600 text-white\"\r\n                    >\r\n                      <TrendingUp className=\"w-3 h-3 mr-1\" />\r\n                      High Reliability\r\n                    </Badge>\r\n                  )}\r\n\r\n                  <div className=\"flex flex-col gap-3 mt-6\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {cleaner.avatar_url || cleaner.photo_url ? (\r\n                        <Avatar className=\"w-14 h-14\">\r\n                          <AvatarImage src={cleaner.avatar_url || cleaner.photo_url || ''} alt={cleaner.name} />\r\n                          <AvatarFallback>{cleaner.name.charAt(0)}</AvatarFallback>\r\n                        </Avatar>\r\n                      ) : (\r\n                        <div className=\"w-14 h-14 rounded-full bg-muted flex items-center justify-center\">\r\n                          <span className=\"text-xl font-semibold\">{cleaner.name.charAt(0)}</span>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"flex-1 text-left min-w-0\">\r\n                        <p className=\"font-semibold text-sm flex items-baseline gap-1\" title={cleaner.name}>\r\n                          {(() => {\r\n                            const nameParts = cleaner.name.trim().split(/\\s+/);\r\n                            if (nameParts.length <= 1) {\r\n                              return <span className=\"truncate\">{cleaner.name}</span>;\r\n                            }\r\n                            const firstName = nameParts[0];\r\n                            const surname = nameParts.slice(1).join(' ');\r\n                            return (\r\n                              <>\r\n                                <span className=\"whitespace-nowrap\">{firstName}</span>\r\n                                {surname && <span className=\"truncate min-w-0\"> {surname}</span>}\r\n                              </>\r\n                            );\r\n                          })()}\r\n                        </p>\r\n                        {cleaner.rating && (\r\n                          <div className=\"flex items-center gap-1 mt-1\">\r\n                            <Star className=\"w-3 h-3 fill-yellow-400 text-yellow-400\" />\r\n                            <span className=\"text-xs font-medium\">{cleaner.rating.toFixed(1)}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Reliability Score */}\r\n                    {reliabilityScore > 0 && (\r\n                      <div className=\"space-y-1\">\r\n                        <div className=\"flex items-center justify-between text-xs\">\r\n                          <span className=\"text-muted-foreground\">Reliability</span>\r\n                          <span className=\"font-semibold\">{formatReliabilityScore(reliabilityScore)}</span>\r\n                        </div>\r\n                        <Progress value={reliabilityScore} className=\"h-2\" />\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Additional Info */}\r\n                    <div className=\"space-y-1 text-xs text-muted-foreground\">\r\n                      {cleaner.specialties && cleaner.specialties.length > 0 && (\r\n                        <p className=\"line-clamp-1\">{cleaner.specialties.slice(0, 2).join(', ')}</p>\r\n                      )}\r\n                      {cleaner.years_experience && (\r\n                        <p>{cleaner.years_experience} year{cleaner.years_experience > 1 ? 's' : ''} experience</p>\r\n                      )}\r\n                      {cleaner.total_bookings !== undefined && cleaner.total_bookings > 0 && (\r\n                        <p>{cleaner.total_bookings} booking{cleaner.total_bookings > 1 ? 's' : ''}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n        {!isTeamBooking && formData.numberOfCleaners > 1 && (formData.preferredCleanerIds || []).length >= formData.numberOfCleaners && (\r\n          <p className=\"text-sm text-muted-foreground text-center\">\r\n            You've selected {formData.numberOfCleaners} cleaners. You can deselect any cleaner to choose a different one.\r\n          </p>\r\n        )}\r\n        {!isTeamBooking && formData.numberOfCleaners > 1 && (formData.preferredCleanerIds || []).length < formData.numberOfCleaners && cleaners.length > 0 && (\r\n          <p className=\"text-sm text-muted-foreground text-center\">\r\n            Please select {formData.numberOfCleaners - (formData.preferredCleanerIds || []).length} more cleaner{formData.numberOfCleaners - (formData.preferredCleanerIds || []).length > 1 ? 's' : ''}.\r\n          </p>\r\n        )}\r\n        {isTeamBooking && !formData.teamNumber && formData.serviceDate && !teamAvailability?.allTeamsBooked && (\r\n          <p className=\"text-sm text-muted-foreground text-center\">\r\n            Please select a team to continue\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Cleaning Frequency */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <h3 className=\"text-lg font-semibold\">How often do you need cleaning?</h3>\r\n          {!supportsRecurring && serviceName && (\r\n            <div className=\"group relative\">\r\n              <Info className=\"w-4 h-4 text-muted-foreground cursor-help\" />\r\n              <div className=\"absolute left-0 top-6 z-10 w-64 p-2 bg-popover border rounded-md shadow-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none text-xs\">\r\n                Recurring bookings are only available for Standard Cleaning and Airbnb Cleaning services.\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          {frequencyOptions.map((option) => {\r\n            const isSelected = formData.cleaningFrequency === option.value;\r\n            const isAvailable = availableFrequencies.includes(option.value as any);\r\n            const isDisabled = !isAvailable;\r\n            \r\n            return (\r\n              <button\r\n                key={option.value}\r\n                type=\"button\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  if (isAvailable) {\r\n                    // Update frequency immediately - this triggers real-time price recalculation\r\n                    // The useMemo in layout.tsx will detect formData.cleaningFrequency change and recalculate\r\n                    updateFormData({ cleaningFrequency: option.value as any });\r\n                  }\r\n                }}\r\n                disabled={isDisabled}\r\n                className={`relative p-4 rounded-xl border-2 transition-all ${\r\n                  isSelected\r\n                    ? 'border-primary bg-primary/5'\r\n                    : isDisabled\r\n                    ? 'border-border bg-muted/30 opacity-50 cursor-not-allowed'\r\n                    : 'border-border hover:border-primary/50 bg-background'\r\n                }`}\r\n                title={isDisabled ? 'Recurring bookings are only available for Standard Cleaning and Airbnb Cleaning' : undefined}\r\n              >\r\n                <div className=\"flex flex-col items-center gap-2\">\r\n                  {option.icon && (\r\n                    <option.icon className={`w-6 h-6 ${isDisabled ? 'text-muted-foreground' : 'text-primary'}`} />\r\n                  )}\r\n                  <div className=\"text-center\">\r\n                    <p className={`font-semibold ${isDisabled ? 'text-muted-foreground' : ''}`}>{option.label}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">{option.subtitle}</p>\r\n                    {option.discount && isAvailable && supportsRecurring && (\r\n                      <p className=\"text-xs text-green-600 font-medium mt-1\">{option.discount}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1869, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/27825/shalean-v2/shalean-reimagined/app/booking/worker/%5BserviceSlug%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useParams, useRouter, useSearchParams } from 'next/navigation';\r\nimport { useEffect, Suspense } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { Button } from '@/components/ui/button';\r\nimport { ArrowLeft } from 'lucide-react';\r\nimport { useBookingFormContext } from '../../book/context/BookingFormContext';\r\nimport { Step2ScheduleCleaner } from '../../book/components/Step2ScheduleCleaner';\r\nimport { getServices } from '../../quote/actions';\r\nimport { findServiceBySlug } from '@/lib/utils/slug';\r\nimport { toast } from 'sonner';\r\n\r\nfunction BookingWorkerPageWithSlugContent() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const serviceSlug = params.serviceSlug as string;\r\n  \r\n  const {\r\n    formData,\r\n    updateFormData,\r\n    validateCurrentStep,\r\n    nextStep,\r\n    previousStep,\r\n    setServicesForSlug,\r\n  } = useBookingFormContext();\r\n\r\n  // Fetch services to validate slug\r\n  const { data: services = [] } = useQuery({\r\n    queryKey: ['services'],\r\n    queryFn: getServices,\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n\r\n  // Set services in hook for slug generation\r\n  useEffect(() => {\r\n    if (services.length > 0) {\r\n      setServicesForSlug(services);\r\n    }\r\n  }, [services, setServicesForSlug]);\r\n\r\n  // Read and store referral code from URL parameter\r\n  useEffect(() => {\r\n    const refCode = searchParams.get('ref');\r\n    if (refCode && !formData.referralCode) {\r\n      // Store referral code in form data\r\n      updateFormData({ referralCode: refCode });\r\n      // Also store in localStorage for persistence\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('shalean_referral_code', refCode);\r\n      }\r\n    }\r\n  }, [searchParams, formData.referralCode, updateFormData]);\r\n\r\n  // Validate service slug and set service in form data\r\n  useEffect(() => {\r\n    if (services.length > 0) {\r\n      if (!serviceSlug) {\r\n        // No slug, redirect to details\r\n        router.replace('/booking/details');\r\n        return;\r\n      }\r\n      \r\n      const service = findServiceBySlug(services, serviceSlug);\r\n      if (!service) {\r\n        // Invalid slug, redirect to details\r\n        toast.error('Invalid service selected');\r\n        router.replace('/booking/details');\r\n        return;\r\n      }\r\n\r\n      // Ensure service is set in form data (don't redirect if not set - it will be set)\r\n      if (!formData.serviceId || formData.serviceId !== service.id) {\r\n        updateFormData({ serviceId: service.id });\r\n      }\r\n    }\r\n    // Only run when services load or slug changes, not on every formData change\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [serviceSlug, services.length]);\r\n\r\n  const handleNext = (e?: React.MouseEvent) => {\r\n    e?.preventDefault();\r\n    e?.stopPropagation();\r\n    \r\n    const validation = validateCurrentStep();\r\n    console.log('Worker handleNext - Validation:', validation, 'FormData:', formData, 'serviceSlug:', serviceSlug);\r\n    \r\n    if (!validation.valid) {\r\n      validation.errors.forEach((error) => toast.error(error));\r\n      return;\r\n    }\r\n    \r\n    // Navigate directly using the service slug from params\r\n    if (serviceSlug) {\r\n      const refCode = formData.referralCode || searchParams.get('ref');\r\n      const nextUrl = refCode \r\n        ? `/booking/submit/${serviceSlug}?ref=${refCode}`\r\n        : `/booking/submit/${serviceSlug}`;\r\n      console.log('Navigating to:', nextUrl);\r\n      router.replace(nextUrl);\r\n    } else {\r\n      console.log('No serviceSlug, using nextStep');\r\n      // Fallback to hook's nextStep if no slug\r\n      nextStep();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bg-white rounded-xl p-6 max-w-[576px] mx-auto\">\r\n        <Step2ScheduleCleaner formData={formData} updateFormData={updateFormData} />\r\n      </div>\r\n\r\n      {/* Navigation Buttons */}\r\n      <div className=\"flex justify-between max-w-[576px] mx-auto mt-6\">\r\n        <Button \r\n          variant=\"outline\" \r\n          onClick={() => {\r\n            if (serviceSlug) {\r\n              const refCode = formData.referralCode || searchParams.get('ref');\r\n              const backUrl = refCode \r\n                ? `/booking/details/${serviceSlug}?ref=${refCode}`\r\n                : `/booking/details/${serviceSlug}`;\r\n              router.push(backUrl);\r\n            } else {\r\n              previousStep();\r\n            }\r\n          }}\r\n        >\r\n          <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n          Back\r\n        </Button>\r\n        <div className=\"ml-auto\">\r\n          <Button \r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              handleNext(e);\r\n            }} \r\n            type=\"button\"\r\n          >\r\n            Continue\r\n            <ArrowLeft className=\"w-4 h-4 ml-2 rotate-180\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default function BookingWorkerPageWithSlug() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-muted-foreground\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    }>\r\n      <BookingWorkerPageWithSlugContent />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}